{"ast":null,"code":"var _jsxFileName = \"D:\\\\mobilecross\\\\Ajege\\\\src\\\\pages\\\\FavouriteProducts.js\",\n    _s = $RefreshSig$();\n\nimport { IonBadge, IonButton, IonButtons, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonInfiniteScroll, IonInfiniteScrollContent, IonNote, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { cart, chevronBackOutline } from \"ionicons/icons\";\nimport { useEffect, useRef, useState } from \"react\";\nimport ProductCard from \"../components/ProductCard\";\nimport { CartStore } from \"../data/CartStore\";\nimport { FavouritesStore } from \"../data/FavouritesStore\";\nimport { ProductStore } from \"../data/ProductStore\";\nimport styles from \"./CategoryProducts.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FavouriteProducts = () => {\n  _s();\n\n  const cartRef = useRef();\n  const products = ProductStore.useState(s => s.products);\n  const favourites = FavouritesStore.useState(s => s.product_ids);\n  const shopCart = CartStore.useState(s => s.product_ids);\n  const [searchResults, setSearchResults] = useState([]);\n  const [amountLoaded, setAmountLoaded] = useState(6);\n  useEffect(() => {\n    const getFavourites = () => {\n      setSearchResults([]);\n      favourites.forEach(favourite => {\n        var favouriteParts = favourite.split(\"/\");\n        var categorySlug = favouriteParts[0];\n        var productID = favouriteParts[1];\n        const tempCategory = products.filter(p => p.slug === categorySlug)[0];\n        const tempProduct = tempCategory.products.filter(p => parseInt(p.id) === parseInt(productID))[0];\n        const tempFavourite = {\n          category: tempCategory,\n          product: tempProduct\n        };\n        setSearchResults(prevSearchResults => [...prevSearchResults, tempFavourite]);\n      });\n    };\n\n    getFavourites();\n  }, [favourites]);\n\n  const fetchMore = async e => {\n    //\tIncrement the amount loaded by 6 for the next iteration\n    setAmountLoaded(prevAmount => prevAmount + 6);\n    e.target.complete();\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    id: \"category-page\",\n    className: styles.categoryPage,\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Favourites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      fullscreen: true,\n      children: [/*#__PURE__*/_jsxDEV(IonGrid, {\n        children: [/*#__PURE__*/_jsxDEV(IonRow, {\n          className: \"ion-text-center\",\n          children: /*#__PURE__*/_jsxDEV(IonCol, {\n            size: \"12\",\n            children: /*#__PURE__*/_jsxDEV(IonNote, {\n              children: [searchResults && searchResults.length, \" \", searchResults.length > 1 || searchResults.length === 0 ? \" favourites\" : \" favourite\", \" found\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n          children: searchResults && searchResults.map((product, index) => {\n            if (index <= amountLoaded) {\n              return /*#__PURE__*/_jsxDEV(ProductCard, {\n                product: product.product,\n                index: index,\n                cartRef: cartRef,\n                category: product.category\n              }, `category_product_${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this);\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IonInfiniteScroll, {\n        threshold: \"100px\",\n        onIonInfinite: fetchMore,\n        children: /*#__PURE__*/_jsxDEV(IonInfiniteScrollContent, {\n          loadingSpinner: \"bubbles\",\n          loadingText: \"Fetching more...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FavouriteProducts, \"OsoIKjOjO55N2k3EBqldcgdP8so=\");\n\n_c = FavouriteProducts;\nexport default FavouriteProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavouriteProducts\");","map":{"version":3,"sources":["D:/mobilecross/Ajege/src/pages/FavouriteProducts.js"],"names":["IonBadge","IonButton","IonButtons","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonInfiniteScroll","IonInfiniteScrollContent","IonNote","IonPage","IonRow","IonTitle","IonToolbar","cart","chevronBackOutline","useEffect","useRef","useState","ProductCard","CartStore","FavouritesStore","ProductStore","styles","FavouriteProducts","cartRef","products","s","favourites","product_ids","shopCart","searchResults","setSearchResults","amountLoaded","setAmountLoaded","getFavourites","forEach","favourite","favouriteParts","split","categorySlug","productID","tempCategory","filter","p","slug","tempProduct","parseInt","id","tempFavourite","category","product","prevSearchResults","fetchMore","e","prevAmount","target","complete","categoryPage","length","map","index"],"mappings":"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","sourcesContent":["import { IonBadge, IonButton, IonButtons, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonInfiniteScroll, IonInfiniteScrollContent, IonNote, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\r\nimport { cart, chevronBackOutline } from \"ionicons/icons\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport ProductCard from \"../components/ProductCard\";\r\nimport { CartStore } from \"../data/CartStore\";\r\nimport { FavouritesStore } from \"../data/FavouritesStore\";\r\nimport { ProductStore } from \"../data/ProductStore\";\r\n\r\nimport styles from \"./CategoryProducts.module.css\";\r\n\r\nconst FavouriteProducts = () => {\r\n\r\n    const cartRef = useRef();\r\n    const products = ProductStore.useState(s => s.products);\r\n    const favourites = FavouritesStore.useState(s => s.product_ids);\r\n    const shopCart = CartStore.useState(s => s.product_ids);\r\n    const [ searchResults, setSearchResults ] = useState([]);\r\n    const [ amountLoaded, setAmountLoaded ] = useState(6);\r\n\r\n    useEffect(() => {\r\n\r\n        const getFavourites = () => {\r\n\r\n            setSearchResults([]);\r\n\r\n            favourites.forEach(favourite => {\r\n\r\n                var favouriteParts = favourite.split(\"/\");\r\n                var categorySlug = favouriteParts[0];\r\n                var productID = favouriteParts[1];\r\n                \r\n                const tempCategory = products.filter(p => p.slug === categorySlug)[0];\r\n                const tempProduct = tempCategory.products.filter(p => parseInt(p.id) === parseInt(productID))[0];\r\n\r\n                const tempFavourite = {\r\n\r\n                    category: tempCategory,\r\n                    product: tempProduct\r\n                };\r\n\r\n                setSearchResults(prevSearchResults => [ ...prevSearchResults, tempFavourite ]);\r\n            });\r\n        }\r\n\r\n        getFavourites();\r\n    }, [ favourites ]);\r\n\r\n    const fetchMore = async (e) => {\r\n\r\n\t\t//\tIncrement the amount loaded by 6 for the next iteration\r\n\t\tsetAmountLoaded(prevAmount => (prevAmount + 6));\r\n\t\te.target.complete();\r\n\t}\r\n\r\n    return (\r\n\r\n        <IonPage id=\"category-page\" className={ styles.categoryPage }>\r\n            <IonHeader>\r\n\t\t\t\t<IonToolbar>\r\n\t\t\t\t\t<IonTitle>Favourites</IonTitle>\r\n\t\t\t\t</IonToolbar>\r\n\t\t\t</IonHeader>\r\n\t\t\t\r\n\t\t\t<IonContent fullscreen>\r\n                <IonGrid>\r\n\r\n                    <IonRow className=\"ion-text-center\">\r\n                        <IonCol size=\"12\">\r\n                            <IonNote>{ searchResults && searchResults.length } { (searchResults.length > 1 || searchResults.length === 0) ? \" favourites\" : \" favourite\" } found</IonNote>\r\n                        </IonCol>\r\n                    </IonRow>\r\n\r\n                    <IonRow>\r\n                        { searchResults && searchResults.map((product, index) => {\r\n\r\n                            if ((index <= amountLoaded)) {\r\n                                return (\r\n                                    <ProductCard key={ `category_product_${ index }`} product={ product.product } index={ index } cartRef={ cartRef } category={ product.category } />\r\n                                );\r\n                            }\r\n                        })}\r\n                    </IonRow>\r\n                </IonGrid>\r\n\r\n                <IonInfiniteScroll threshold=\"100px\" onIonInfinite={ fetchMore }>\r\n\t\t\t\t\t<IonInfiniteScrollContent loadingSpinner=\"bubbles\" loadingText=\"Fetching more...\">\r\n\t\t\t\t\t</IonInfiniteScrollContent>\r\n\t\t\t\t</IonInfiniteScroll>\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n}\r\n\r\nexport default FavouriteProducts;"]},"metadata":{},"sourceType":"module"}