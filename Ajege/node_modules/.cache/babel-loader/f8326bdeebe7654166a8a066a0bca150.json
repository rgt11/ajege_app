{"ast":null,"code":"var _jsxFileName = \"D:\\\\mobilecross\\\\Ajege\\\\src\\\\components\\\\ProductCard.js\",\n    _s = $RefreshSig$();\n\nimport { IonButton, IonCard, IonCardContent, IonCardHeader, IonCol, IonIcon } from \"@ionic/react\";\nimport { arrowRedoOutline, cart, cartOutline, heart, heartOutline } from \"ionicons/icons\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { addToCart } from \"../data/CartStore\";\nimport { addToFavourites, FavouritesStore } from \"../data/FavouritesStore\";\nimport styles from \"./ProductCard.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductCard = props => {\n  _s();\n\n  const {\n    product,\n    category,\n    index,\n    cartRef\n  } = props;\n  const favourites = FavouritesStore.useState(s => s.product_ids);\n  const productCartRef = useRef();\n  const productFavouriteRef = useRef();\n  const [isFavourite, setIsFavourite] = useState(false);\n  useEffect(() => {\n    const tempIsFavourite = favourites.find(f => f === `${category.slug}/${product.id}`);\n    setIsFavourite(tempIsFavourite ? true : false);\n  }, [props.product, favourites]);\n\n  const addProductToFavourites = (e, categorySlug, productID) => {\n    e.preventDefault();\n    e.stopPropagation();\n    addToFavourites(categorySlug, productID);\n    productFavouriteRef.current.style.display = \"\";\n    productFavouriteRef.current.classList.add(\"animate__fadeOutTopRight\");\n    setTimeout(() => {\n      if (productCartRef.current) {\n        productFavouriteRef.current.classList.remove(\"animate__fadeOutTopRight\");\n        productFavouriteRef.current.style.display = \"none\";\n      }\n    }, 500);\n  };\n\n  const addProductToCart = (e, categorySlug, productID) => {\n    e.preventDefault();\n    e.stopPropagation();\n    productCartRef.current.style.display = \"\";\n    productCartRef.current.classList.add(\"animate__fadeOutUp\");\n    setTimeout(() => {\n      cartRef.current.classList.add(\"animate__tada\");\n      addToCart(categorySlug, productID);\n      setTimeout(() => {\n        cartRef.current.classList.remove(\"animate__tada\");\n        productCartRef.current.style.display = \"none\";\n      }, 500);\n    }, 500);\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonCol, {\n    size: \"6\",\n    children: /*#__PURE__*/_jsxDEV(IonCard, {\n      routerLink: `/category/${category.slug}/${product.id}`,\n      className: styles.categoryCard,\n      children: [/*#__PURE__*/_jsxDEV(IonCardHeader, {\n        className: styles.productCardHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.productCardActions,\n          children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n            className: styles.productCardAction,\n            color: isFavourite ? \"danger\" : \"medium\",\n            icon: isFavourite ? heart : heartOutline,\n            onClick: e => addProductToFavourites(e, category.slug, product.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IonIcon, {\n            ref: productFavouriteRef,\n            style: {\n              position: \"absolute\",\n              display: \"none\"\n            },\n            className: `${styles.productCardAction} animate__animated`,\n            color: \"danger\",\n            icon: heart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image,\n          alt: \"product pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ion-text-wrap\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IonCardContent, {\n        className: styles.categoryCardContent,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.productPrice,\n          children: [/*#__PURE__*/_jsxDEV(IonButton, {\n            style: {\n              width: \"100%\"\n            },\n            color: \"light\",\n            children: product.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n            color: \"success\",\n            onClick: e => addProductToCart(e, category.slug, product.id),\n            children: /*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: cartOutline\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IonIcon, {\n            ref: productCartRef,\n            icon: cart,\n            color: \"dark\",\n            style: {\n              position: \"absolute\",\n              display: \"none\",\n              fontSize: \"3rem\"\n            },\n            className: \"animate__animated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, `category_product_list_${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductCard, \"JWxLbcPIIbVK3R+qRXWWfZSHwJc=\");\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["D:/mobilecross/Ajege/src/components/ProductCard.js"],"names":["IonButton","IonCard","IonCardContent","IonCardHeader","IonCol","IonIcon","arrowRedoOutline","cart","cartOutline","heart","heartOutline","useEffect","useRef","useState","addToCart","addToFavourites","FavouritesStore","styles","ProductCard","props","product","category","index","cartRef","favourites","s","product_ids","productCartRef","productFavouriteRef","isFavourite","setIsFavourite","tempIsFavourite","find","f","slug","id","addProductToFavourites","e","categorySlug","productID","preventDefault","stopPropagation","current","style","display","classList","add","setTimeout","remove","addProductToCart","categoryCard","productCardHeader","productCardActions","productCardAction","position","image","name","categoryCardContent","productPrice","width","price","fontSize"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,OAApB,EAA6BC,cAA7B,EAA6CC,aAA7C,EAA4DC,MAA5D,EAAoEC,OAApE,QAAmF,cAAnF;AACA,SAASC,gBAAT,EAA2BC,IAA3B,EAAiCC,WAAjC,EAA8CC,KAA9C,EAAqDC,YAArD,QAAyE,gBAAzE;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,eAAT,EAA0BC,eAA1B,QAAiD,yBAAjD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAAA;;AAEzB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,QAAX;AAAqBC,IAAAA,KAArB;AAA4BC,IAAAA;AAA5B,MAAwCJ,KAA9C;AACA,QAAMK,UAAU,GAAGR,eAAe,CAACH,QAAhB,CAAyBY,CAAC,IAAIA,CAAC,CAACC,WAAhC,CAAnB;AAEA,QAAMC,cAAc,GAAGf,MAAM,EAA7B;AACA,QAAMgB,mBAAmB,GAAGhB,MAAM,EAAlC;AACA,QAAM,CAAEiB,WAAF,EAAeC,cAAf,IAAkCjB,QAAQ,CAAC,KAAD,CAAhD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMoB,eAAe,GAAGP,UAAU,CAACQ,IAAX,CAAgBC,CAAC,IAAIA,CAAC,KAAM,GAAGZ,QAAQ,CAACa,IAAM,IAAId,OAAO,CAACe,EAAI,EAA9D,CAAxB;AACAL,IAAAA,cAAc,CAACC,eAAe,GAAG,IAAH,GAAU,KAA1B,CAAd;AACH,GAJQ,EAIN,CAACZ,KAAK,CAACC,OAAP,EAAgBI,UAAhB,CAJM,CAAT;;AAMA,QAAMY,sBAAsB,GAAG,CAACC,CAAD,EAAIC,YAAJ,EAAkBC,SAAlB,KAAgC;AAE3DF,IAAAA,CAAC,CAACG,cAAF;AACAH,IAAAA,CAAC,CAACI,eAAF;AACA1B,IAAAA,eAAe,CAACuB,YAAD,EAAeC,SAAf,CAAf;AAGAX,IAAAA,mBAAmB,CAACc,OAApB,CAA4BC,KAA5B,CAAkCC,OAAlC,GAA4C,EAA5C;AACAhB,IAAAA,mBAAmB,CAACc,OAApB,CAA4BG,SAA5B,CAAsCC,GAAtC,CAA0C,0BAA1C;AAEAC,IAAAA,UAAU,CAAC,MAAM;AACb,UAAIpB,cAAc,CAACe,OAAnB,EAA4B;AACxBd,QAAAA,mBAAmB,CAACc,OAApB,CAA4BG,SAA5B,CAAsCG,MAAtC,CAA6C,0BAA7C;AACApB,QAAAA,mBAAmB,CAACc,OAApB,CAA4BC,KAA5B,CAAkCC,OAAlC,GAA4C,MAA5C;AACH;AACJ,KALS,EAKP,GALO,CAAV;AAMH,GAhBD;;AAkBA,QAAMK,gBAAgB,GAAG,CAACZ,CAAD,EAAIC,YAAJ,EAAkBC,SAAlB,KAAgC;AAErDF,IAAAA,CAAC,CAACG,cAAF;AACAH,IAAAA,CAAC,CAACI,eAAF;AAEAd,IAAAA,cAAc,CAACe,OAAf,CAAuBC,KAAvB,CAA6BC,OAA7B,GAAuC,EAAvC;AACAjB,IAAAA,cAAc,CAACe,OAAf,CAAuBG,SAAvB,CAAiCC,GAAjC,CAAqC,oBAArC;AAEAC,IAAAA,UAAU,CAAC,MAAM;AAEbxB,MAAAA,OAAO,CAACmB,OAAR,CAAgBG,SAAhB,CAA0BC,GAA1B,CAA8B,eAA9B;AACAhC,MAAAA,SAAS,CAACwB,YAAD,EAAeC,SAAf,CAAT;AAEAQ,MAAAA,UAAU,CAAC,MAAM;AAEbxB,QAAAA,OAAO,CAACmB,OAAR,CAAgBG,SAAhB,CAA0BG,MAA1B,CAAiC,eAAjC;AACArB,QAAAA,cAAc,CAACe,OAAf,CAAuBC,KAAvB,CAA6BC,OAA7B,GAAuC,MAAvC;AACH,OAJS,EAIP,GAJO,CAAV;AAKH,KAVS,EAUP,GAVO,CAAV;AAWH,GAnBD;;AAqBA,sBAEI,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,GAAb;AAAA,2BACI,QAAC,OAAD;AAAS,MAAA,UAAU,EAAI,aAAavB,QAAQ,CAACa,IAAM,IAAId,OAAO,CAACe,EAAI,EAAnE;AAAsE,MAAA,SAAS,EAAGlB,MAAM,CAACiC,YAAzF;AAAA,8BACI,QAAC,aAAD;AAAe,QAAA,SAAS,EAAGjC,MAAM,CAACkC,iBAAlC;AAAA,gCACI;AAAK,UAAA,SAAS,EAAGlC,MAAM,CAACmC,kBAAxB;AAAA,kCACI,QAAC,OAAD;AAAS,YAAA,SAAS,EAAGnC,MAAM,CAACoC,iBAA5B;AAAiD,YAAA,KAAK,EAAGxB,WAAW,GAAG,QAAH,GAAc,QAAlF;AAA6F,YAAA,IAAI,EAAGA,WAAW,GAAGpB,KAAH,GAAWC,YAA1H;AAAyI,YAAA,OAAO,EAAG2B,CAAC,IAAID,sBAAsB,CAACC,CAAD,EAAIhB,QAAQ,CAACa,IAAb,EAAmBd,OAAO,CAACe,EAA3B;AAA9K;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,OAAD;AAAS,YAAA,GAAG,EAAGP,mBAAf;AAAqC,YAAA,KAAK,EAAE;AAAE0B,cAAAA,QAAQ,EAAE,UAAZ;AAAwBV,cAAAA,OAAO,EAAE;AAAjC,aAA5C;AAAuF,YAAA,SAAS,EAAI,GAAG3B,MAAM,CAACoC,iBAAmB,oBAAjI;AAAuJ,YAAA,KAAK,EAAC,QAA7J;AAAsK,YAAA,IAAI,EAAG5C;AAA7K;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAK,UAAA,GAAG,EAAGW,OAAO,CAACmC,KAAnB;AAA2B,UAAA,GAAG,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI;AAAG,UAAA,SAAS,EAAC,eAAb;AAAA,oBAA+BnC,OAAO,CAACoC;AAAvC;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI,QAAC,cAAD;AAAgB,QAAA,SAAS,EAAGvC,MAAM,CAACwC,mBAAnC;AAAA,+BAEI;AAAK,UAAA,SAAS,EAAGxC,MAAM,CAACyC,YAAxB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAlB;AAAqC,YAAA,KAAK,EAAC,OAA3C;AAAA,sBACMvC,OAAO,CAACwC;AADd;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,SAAjB;AAA2B,YAAA,OAAO,EAAGvB,CAAC,IAAIY,gBAAgB,CAACZ,CAAD,EAAIhB,QAAQ,CAACa,IAAb,EAAmBd,OAAO,CAACe,EAA3B,CAA1D;AAAA,mCACI,QAAC,OAAD;AAAS,cAAA,IAAI,EAAG3B;AAAhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAQI,QAAC,OAAD;AAAS,YAAA,GAAG,EAAGmB,cAAf;AAAgC,YAAA,IAAI,EAAGpB,IAAvC;AAA8C,YAAA,KAAK,EAAC,MAApD;AAA2D,YAAA,KAAK,EAAE;AAAE+C,cAAAA,QAAQ,EAAE,UAAZ;AAAwBV,cAAAA,OAAO,EAAE,MAAjC;AAAyCiB,cAAAA,QAAQ,EAAE;AAAnD,aAAlE;AAA+H,YAAA,SAAS,EAAC;AAAzI;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,KAAwB,yBAAyBvC,KAAO,EAAxD;AAAA;AAAA;AAAA;AAAA,UAFJ;AA8BH,CApFD;;GAAMJ,W;;KAAAA,W;AAsFN,eAAeA,WAAf","sourcesContent":["import { IonButton, IonCard, IonCardContent, IonCardHeader, IonCol, IonIcon } from \"@ionic/react\";\r\nimport { arrowRedoOutline, cart, cartOutline, heart, heartOutline } from \"ionicons/icons\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { addToCart } from \"../data/CartStore\";\r\nimport { addToFavourites, FavouritesStore } from \"../data/FavouritesStore\";\r\nimport styles from \"./ProductCard.module.css\";\r\n\r\nconst ProductCard = props => {\r\n\r\n    const { product, category, index, cartRef } = props;\r\n    const favourites = FavouritesStore.useState(s => s.product_ids);\r\n\r\n    const productCartRef = useRef();\r\n    const productFavouriteRef = useRef();\r\n    const [ isFavourite, setIsFavourite ] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        const tempIsFavourite = favourites.find(f => f === `${ category.slug }/${ product.id }`);\r\n        setIsFavourite(tempIsFavourite ? true : false);\r\n    }, [props.product, favourites]);\r\n\r\n    const addProductToFavourites = (e, categorySlug, productID) => {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        addToFavourites(categorySlug, productID);\r\n\r\n\r\n        productFavouriteRef.current.style.display = \"\";\r\n        productFavouriteRef.current.classList.add(\"animate__fadeOutTopRight\");\r\n\r\n        setTimeout(() => {\r\n            if (productCartRef.current) {\r\n                productFavouriteRef.current.classList.remove(\"animate__fadeOutTopRight\");\r\n                productFavouriteRef.current.style.display = \"none\";\r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    const addProductToCart = (e, categorySlug, productID) => {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        productCartRef.current.style.display = \"\";\r\n        productCartRef.current.classList.add(\"animate__fadeOutUp\");\r\n\r\n        setTimeout(() => {\r\n\r\n            cartRef.current.classList.add(\"animate__tada\");\r\n            addToCart(categorySlug, productID);\r\n\r\n            setTimeout(() => {\r\n                \r\n                cartRef.current.classList.remove(\"animate__tada\");\r\n                productCartRef.current.style.display = \"none\";\r\n            }, 500);\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n\r\n        <IonCol size=\"6\" key={ `category_product_list_${ index }`}>\r\n            <IonCard routerLink={ `/category/${ category.slug }/${ product.id }`} className={ styles.categoryCard }>\r\n                <IonCardHeader className={ styles.productCardHeader }>\r\n                    <div className={ styles.productCardActions }>\r\n                        <IonIcon className={ styles.productCardAction }  color={ isFavourite ? \"danger\" : \"medium\" } icon={ isFavourite ? heart : heartOutline } onClick={ e => addProductToFavourites(e, category.slug, product.id) } />\r\n                        <IonIcon ref={ productFavouriteRef } style={{ position: \"absolute\", display: \"none\" }} className={ `${ styles.productCardAction } animate__animated` } color=\"danger\" icon={ heart } />\r\n                      \r\n                    </div>\r\n                    <img src={ product.image } alt=\"product pic\" />\r\n                    <p className=\"ion-text-wrap\">{ product.name }</p>\r\n                </IonCardHeader>\r\n\r\n                <IonCardContent className={ styles.categoryCardContent }>\r\n                    \r\n                    <div className={ styles.productPrice }>\r\n                        <IonButton style={{ width: \"100%\" }} color=\"light\">\r\n                            { product.price }\r\n                        </IonButton>\r\n                        <IonButton color=\"success\" onClick={ e => addProductToCart(e, category.slug, product.id) }>\r\n                            <IonIcon icon={ cartOutline } />\r\n                        </IonButton>\r\n\r\n                        <IonIcon ref={ productCartRef } icon={ cart } color=\"dark\" style={{ position: \"absolute\", display: \"none\", fontSize: \"3rem\" }} className=\"animate__animated\" />\r\n                    </div>\r\n                </IonCardContent>\r\n            </IonCard>\r\n        </IonCol>\r\n    );\r\n}\r\n\r\nexport default ProductCard;"]},"metadata":{},"sourceType":"module"}